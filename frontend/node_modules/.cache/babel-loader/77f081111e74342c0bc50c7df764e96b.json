{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\hp\\\\Desktop\\\\social-media-au3\\\\frontend\\\\src\\\\components\\\\signup.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert } from 'react-bootstrap';\nimport useForm from './useForm';\nimport validate from './SignUpFormValidationRules';\n\nconst axios = require('axios');\n\nfunction SignUp() {\n  const {\n    values,\n    errors,\n    handleSubmit,\n    handleChange\n  } = useForm(signup, validate);\n  const [location, setLocation] = useState({\n    country: \"\",\n    state: \"\"\n  });\n  const history = useHistory();\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    axios.get('https://freegeoip.app/json/').then(res => {\n      setLocation({ ...location,\n        country: res.data.country_name,\n        state: res.data.region_name\n      });\n    }).catch(err => console.log(err));\n  }, []);\n\n  function signup() {\n    const data = { ...values,\n      Country: location.country,\n      State: location.state\n    };\n    axios.post('/signup', data).then(res => {\n      setError(false);\n      localStorage.setItem('token', res.data.token);\n      history.push(\"/app/profile\");\n    }).catch(err => setError(true));\n  }\n\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, error && React.createElement(Alert, {\n    variant: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Registration Failed\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Full Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"Name\",\n    className: `form-control form-control-sm ${errors.Name && \"is-invalid\"}`,\n    id: \"SignUpName\",\n    value: values.Name || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), errors.Name && React.createElement(\"small\", {\n    id: \"SignUpNameError\",\n    className: \"form-text text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, errors.Name)), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Email address\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"Email\",\n    className: `form-control form-control-sm ${errors.Email && \"is-invalid\"}`,\n    id: \"SignUpEmail\",\n    value: values.Email || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), errors.Email && React.createElement(\"small\", {\n    id: \"SignUpEmailError\",\n    className: \"form-text text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, errors.Email)), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpUsername\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"Username\",\n    className: `form-control form-control-sm ${errors.Username && \"is-invalid\"}`,\n    id: \"SignUpUsername\",\n    value: values.Username || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), errors.Username && React.createElement(\"small\", {\n    id: \"SignUpUsernameError\",\n    className: \"form-text text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, errors.Username)), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpPassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"Password\",\n    className: `form-control form-control-sm ${errors.Password && \"is-invalid\"}`,\n    id: \"SignUpPassword\",\n    value: values.Password || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), errors.Password && React.createElement(\"small\", {\n    id: \"SignUpPasswordError\",\n    className: \"form-text text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, errors.Password)), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpDOB\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Date of Birth\"), React.createElement(\"input\", {\n    type: \"date\",\n    name: \"DOB\",\n    className: `form-control form-control-sm ${errors.DOB && \"is-invalid\"}`,\n    id: \"SignUpDOB\",\n    value: values.DOB || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), errors.DOB && React.createElement(\"small\", {\n    id: \"SignUpDateofBirthError\",\n    className: \"form-text text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, errors.DOB)), React.createElement(\"div\", {\n    className: \"form-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpCountry\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Country\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"Country\",\n    className: \"form-control form-control-sm\",\n    id: \"SignUpCountry\",\n    value: location.country || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"SignUpState\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"State\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"State\",\n    className: \"form-control form-control-sm\",\n    id: \"SignUpState\",\n    value: location.state || \"\",\n    onChange: handleChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"mr-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Gender\"), React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"Gender\",\n    id: \"SignUpMale\",\n    value: \"Male\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    htmlFor: \"SignUpMale\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Male\")), React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"Gender\",\n    id: \"SignUpFemale\",\n    value: \"Female\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    htmlFor: \"SignUpFemale\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Female\")), errors.Gender && React.createElement(\"small\", {\n    id: \"SignUpGenderError\",\n    className: \"form-text text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, errors.Gender)), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Sign Up\"));\n}\n\nexport default SignUp;","map":{"version":3,"sources":["c:/Users/hp/Desktop/social-media-au3/frontend/src/components/signup.js"],"names":["React","useEffect","useState","useHistory","Alert","useForm","validate","axios","require","SignUp","values","errors","handleSubmit","handleChange","signup","location","setLocation","country","state","history","error","setError","get","then","res","data","country_name","region_name","catch","err","console","log","Country","State","post","localStorage","setItem","token","push","Name","Email","Username","Password","DOB","Gender"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nimport useForm from './useForm'\r\nimport validate from './SignUpFormValidationRules'\r\n\r\nconst axios = require('axios');\r\n\r\nfunction SignUp() {\r\n\r\n    const { values, errors, handleSubmit, handleChange} = useForm(signup, validate);\r\n    const [location, setLocation] = useState({\r\n        country: \"\",\r\n        state: \"\"\r\n    });\r\n    const history = useHistory();\r\n    const [error, setError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios.get('https://freegeoip.app/json/')\r\n        .then(res => {\r\n            setLocation({...location, country: res.data.country_name, state: res.data.region_name});\r\n        })\r\n        .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    function signup() {\r\n        const data = {...values, Country: location.country, State: location.state};\r\n        axios.post('/signup', data)\r\n        .then(res => {\r\n            setError(false);\r\n            localStorage.setItem('token', res.data.token);\r\n            history.push(\"/app/profile\");\r\n        })\r\n        .catch(err => setError(true));\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {\r\n                error && (\r\n                    <Alert variant=\"danger\">\r\n                        Registration Failed\r\n                    </Alert>\r\n                )\r\n            }\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"SignUpName\">Full Name</label>\r\n                <input type=\"text\" name=\"Name\" className={`form-control form-control-sm ${errors.Name && \"is-invalid\"}`} id=\"SignUpName\" value={values.Name || \"\"} onChange={handleChange} required/>\r\n                {errors.Name && (<small id=\"SignUpNameError\" className=\"form-text text-danger\">{errors.Name}</small>)}\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"SignUpEmail\">Email address</label>\r\n                <input type=\"email\" name=\"Email\" className={`form-control form-control-sm ${errors.Email && \"is-invalid\"}`} id=\"SignUpEmail\" value={values.Email || \"\"} onChange={handleChange} required/>\r\n                {errors.Email && (<small id=\"SignUpEmailError\" className=\"form-text text-danger\">{errors.Email}</small>)}\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"SignUpUsername\">Username</label>\r\n                <input type=\"text\" name=\"Username\" className={`form-control form-control-sm ${errors.Username && \"is-invalid\"}`} id=\"SignUpUsername\" value={values.Username || \"\"} onChange={handleChange} required/>\r\n                {errors.Username && (<small id=\"SignUpUsernameError\" className=\"form-text text-danger\">{errors.Username}</small>)}\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"SignUpPassword\">Password</label>\r\n                <input type=\"password\" name=\"Password\" className={`form-control form-control-sm ${errors.Password && \"is-invalid\"}`} id=\"SignUpPassword\" value={values.Password || \"\"} onChange={handleChange} required/>\r\n                {errors.Password && (<small id=\"SignUpPasswordError\" className=\"form-text text-danger\">{errors.Password}</small>)}\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"SignUpDOB\">Date of Birth</label>\r\n                <input type=\"date\" name=\"DOB\" className={`form-control form-control-sm ${errors.DOB && \"is-invalid\"}`} id=\"SignUpDOB\" value={values.DOB || \"\"} onChange={handleChange} required/>\r\n                {errors.DOB && (<small id=\"SignUpDateofBirthError\" className=\"form-text text-danger\">{errors.DOB}</small>)}\r\n            </div>\r\n            <div className=\"form-row\">\r\n                <div className=\"form-group col-md-6\">\r\n                    <label htmlFor=\"SignUpCountry\">Country</label>\r\n                    <input type=\"text\" name=\"Country\" className=\"form-control form-control-sm\" id=\"SignUpCountry\" value={location.country || \"\"} onChange={handleChange} required/>\r\n                </div>\r\n                <div className=\"form-group col-md-6\">\r\n                    <label htmlFor=\"SignUpState\">State</label>\r\n                    <input type=\"text\" name=\"State\" className=\"form-control form-control-sm\" id=\"SignUpState\" value={location.state || \"\"} onChange={handleChange} required/>\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"mr-3\">Gender</label>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input className=\"form-check-input\" type=\"radio\" name=\"Gender\" id=\"SignUpMale\" value=\"Male\" onChange={handleChange}/>\r\n                    <label className=\"form-check-label\" htmlFor=\"SignUpMale\">Male</label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input className=\"form-check-input\" type=\"radio\" name=\"Gender\" id=\"SignUpFemale\" value=\"Female\" onChange={handleChange}/>\r\n                    <label className=\"form-check-label\" htmlFor=\"SignUpFemale\">Female</label>\r\n                </div>\r\n                {errors.Gender && (<small id=\"SignUpGenderError\" className=\"form-text text-danger\">{errors.Gender}</small>)}\r\n            </div>\r\n            <button type=\"submit\" className=\"btn btn-success\">Sign Up</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}